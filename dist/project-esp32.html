<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ESP32 Weather Station — Project</title>
  <meta name="description" content="Mini stazione meteo con ESP32: modello 3D ruotabile, cablaggio e foto reali.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="css/styles.css" rel="stylesheet"/>

  <!-- model-viewer per modello 3D ruotabile -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    /* Layout pulito e responsivo per sezioni affiancate */
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
    @media (max-width: 992px) { .two-col { grid-template-columns: 1fr; } }
    pre.codebox {
      background:#0f172a; color:#e2e8f0; padding:1rem; border-radius:.5rem; overflow:auto; font-size:.95rem;
    }
    .gallery-grid { display:grid; grid-template-columns: repeat(2, 1fr); gap: .75rem; }
    @media (max-width: 768px) { .gallery-grid { grid-template-columns: 1fr; } }
    .gallery-grid img { width:100%; height:auto; border-radius:.5rem; }
    model-viewer { width:100%; height:520px; background: #f8fafc; border-radius:.5rem; }
  </style>
</head>

<body>
<nav class="navbar navbar-expand-lg bg-secondary text-uppercase">
  <div class="container">
    <a class="navbar-brand text-white" href="index.html#portfolio">← Back to Portfolio</a>
  </div>
</nav>

<header class="py-5 bg-primary text-white text-center">
  <div class="container">
    <h1 class="mb-3">ESP32 Weather Station</h1>
    <p class="lead mb-3">Modello 3D ruotabile, schema su Tinkercad e galleria del progetto reale.</p>
    <div class="mt-3">
      <a class="btn btn-light btn-sm me-2" target="_blank" rel="noopener" href="https://github.com/diegobergia03-italy/esp32-weather-station">
        <i class="fab fa-github me-1"></i> View on GitHub
      </a>
    </div>
  </div>
</header>

<main class="container my-5">

  <!-- 3D MODEL -->
  <section class="mb-5">
    <h2 class="h4 mb-3">3D Model (rotate me)</h2>
    <model-viewer
      src="assets/3d/esp32-case.glb"
      poster="assets/img/portfolio/esp32-thumb.jpeg"
      camera-controls
      auto-rotate
      touch-action="pan-y"
      exposure="1.1"
      alt="3D model of the ESP32 weather station enclosure">
      <div class="text-center p-4">Your browser can’t display the 3D model. Download: <a href="assets/3d/esp32-case.glb" download>esp32-case.glb</a></div>
    </model-viewer>
    <p class="text-muted small mt-2">Suggerimento: trascina per ruotare, rotella per zoom, doppio click per mettere a fuoco.</p>
  </section>

  <!-- WIRING + CODE -->
  <section class="mb-5">
    <h2 class="h4 mb-3">Wiring & Code</h2>
    <div class="two-col">
      <!-- Screenshot Tinkercad -->
      <div>
        <img src="assets/img/portfolio/esp32-wiring-tinkercad.jpeg" alt="Tinkercad wiring screenshot" class="img-fluid rounded shadow-sm">
        <p class="text-muted small mt-2">Schema rifatto su Tinkercad per chiarezza (ESP32 + sensore).</p>
      </div>

      <!-- Codice -->
      <div>
        <pre class="codebox"><code>// Esempio (sostituisci con il tuo codice reale)
#include &lt;Arduino.h&gt;
#include "DHT.h"
#define DHTPIN 4
#define DHTTYPE DHT22
DHT dht(DHTPIN, DHTTYPE);

void setup() {
  Serial.begin(115200);
  dht.begin();
}
void loop() {
  float h = dht.readHumidity();
  float t = dht.readTemperature();
  if (isnan(h) || isnan(t)) {
    Serial.println("Errore lettura sensore");
  } else {
    Serial.printf("T=%.2f °C  UR=%.1f %%\n", t, h);
  }
  delay(2000);
}</code></pre>
        <a class="btn btn-outline-secondary btn-sm mt-2" target="_blank" rel="noopener" href="https://github.com/diegobergia03-italy/esp32-weather-station">Apri il codice su GitHub</a>
      </div>
    </div>
  </section>

  <!-- GALLERIA FOTO -->
  <section class="mb-5">
    <h2 class="h4 mb-3">Photo Gallery</h2>
    <div class="gallery-grid">
      <img src="assets/img/portfolio/esp32-thumb.jpeg" alt="Project cover - ESP32 weather sensor">
      <img src="assets/img/portfolio/esp32-front.jpeg" alt="Sensor front view">
      <img src="assets/img/portfolio/esp32-back.jpeg" alt="Sensor back view">
      <img src="assets/img/portfolio/esp32-wiring.jpeg" alt="Full wiring photo">
    </div>
  </section>

 <!-- DOWNLOAD -->
<section class="mb-4">
  <h2 class="h4 mb-3">Downloads</h2>
  <ul class="list-unstyled">
    <li><a href="assets/stl/case-sensore-umidita-temperatura.stl" download>Case sensore umidità e temperatura (.stl)</a></li>
    <li><a href="assets/stl/tappo-case-sensore-umidita-temperatura.stl" download>Tappo del case (.stl)</a></li>
    <li><a href="assets/3d/esp32-case.glb" download>3D model (.glb)</a></li>
  </ul>
</section>


</main>

<footer class="text-center py-4 bg-light">
  <div class="container">
    <a href="index.html#portfolio" class="btn btn-primary">← Back to Portfolio</a>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js"></script>
</body>
</html>
